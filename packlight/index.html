<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PackLight â€” Smart Travel Packing List Generator</title>
<meta name="description" content="Generate a personalized packing list for any trip. Select your destination, duration, climate, and activities â€” get a custom checklist with gear recommendations.">
<meta name="keywords" content="packing list, travel packing list, what to pack, packing checklist, travel essentials">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0a0f;--card:#14141f;--border:#1e1e30;--text:#e8e6e1;--dim:#8a8690;--accent:#ff6b35;--accent2:#7c3aed;--accent3:#06b6d4;--green:#22c55e}
body{background:var(--bg);color:var(--text);font-family:'Space Grotesk',sans-serif;min-height:100vh;overflow-x:hidden}
.noise{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;opacity:.035}
.noise canvas{width:100%;height:100%}
.gradient-bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;background:
  radial-gradient(ellipse 80% 60% at 20% 10%, rgba(255,107,53,.15) 0%, transparent 60%),
  radial-gradient(ellipse 60% 80% at 80% 90%, rgba(124,58,237,.12) 0%, transparent 60%),
  radial-gradient(ellipse 70% 50% at 50% 50%, rgba(6,182,212,.08) 0%, transparent 60%),
  var(--bg)}
.container{position:relative;z-index:1;max-width:680px;margin:0 auto;padding:24px 20px 80px}
h1{font-family:'Instrument Serif',serif;font-size:clamp(2.8rem,8vw,4.2rem);line-height:1.05;margin-bottom:8px}
h1 span{background:linear-gradient(135deg,var(--accent),var(--accent2),var(--accent3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.subtitle{color:var(--dim);font-size:1.05rem;margin-bottom:40px;line-height:1.5}
.step{display:none;animation:fadeUp .4s ease}
.step.active{display:block}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.step-label{font-size:.8rem;text-transform:uppercase;letter-spacing:.12em;color:var(--accent);margin-bottom:8px;font-weight:600}
.step-title{font-family:'Instrument Serif',serif;font-size:1.8rem;margin-bottom:20px}
.chips{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:24px}
.chip{padding:10px 20px;border-radius:99px;border:1.5px solid var(--border);background:transparent;color:var(--text);font-family:'Space Grotesk',sans-serif;font-size:.95rem;cursor:pointer;transition:all .2s}
.chip:hover{border-color:var(--accent);background:rgba(255,107,53,.06)}
.chip.selected{border-color:var(--accent);background:rgba(255,107,53,.12);color:var(--accent)}
.chip.multi.selected{border-color:var(--green);background:rgba(34,197,94,.1);color:var(--green)}
.btn{display:inline-flex;align-items:center;gap:8px;padding:14px 32px;border-radius:99px;border:none;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;font-family:'Space Grotesk',sans-serif;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;margin-top:8px}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(255,107,53,.25)}
.btn:disabled{opacity:.4;cursor:not-allowed;transform:none;box-shadow:none}
.progress{display:flex;gap:8px;margin-bottom:32px}
.dot{width:10px;height:10px;border-radius:50%;background:var(--border);transition:all .3s}
.dot.done{background:var(--accent)}
.dot.current{background:var(--accent);box-shadow:0 0 12px rgba(255,107,53,.5)}
/* Duration slider */
.slider-wrap{margin-bottom:24px}
.slider-wrap input[type=range]{width:100%;accent-color:var(--accent);margin:12px 0}
.slider-val{font-size:1.6rem;font-weight:700;color:var(--accent)}
/* Results */
.results-header{text-align:center;margin-bottom:32px}
.results-header h2{font-family:'Instrument Serif',serif;font-size:2.4rem;margin-bottom:8px}
.results-header p{color:var(--dim);font-size:1rem}
.category{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;margin-bottom:16px;animation:fadeUp .4s ease backwards}
.cat-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer;margin-bottom:12px}
.cat-title{font-weight:600;font-size:1.1rem;display:flex;align-items:center;gap:8px}
.cat-count{font-size:.8rem;color:var(--dim);background:var(--border);padding:2px 10px;border-radius:99px}
.cat-toggle{color:var(--dim);font-size:1.2rem;transition:transform .2s}
.cat-toggle.collapsed{transform:rotate(-90deg)}
.item{display:flex;align-items:flex-start;gap:12px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.item:last-child{border-bottom:none}
.item input[type=checkbox]{width:20px;height:20px;accent-color:var(--green);margin-top:2px;flex-shrink:0;cursor:pointer}
.item-info{flex:1}
.item-name{font-size:.95rem}
.item-name.checked{text-decoration:line-through;opacity:.4}
.item-link{display:inline-flex;align-items:center;gap:4px;font-size:.8rem;color:var(--accent);text-decoration:none;margin-top:2px;opacity:.7;transition:opacity .2s}
.item-link:hover{opacity:1;text-decoration:underline}
.toolbar{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-bottom:24px}
.toolbar .btn{padding:10px 20px;font-size:.9rem}
.toolbar .btn.outline{background:transparent;border:1.5px solid var(--border);color:var(--text)}
.toolbar .btn.outline:hover{border-color:var(--accent)}
.stat-row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-bottom:32px}
.stat{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px 20px;text-align:center;min-width:100px}
.stat-num{font-size:1.6rem;font-weight:700;color:var(--accent)}
.stat-label{font-size:.75rem;color:var(--dim);text-transform:uppercase;letter-spacing:.08em;margin-top:2px}
/* Email capture */
.email-card{background:linear-gradient(135deg,rgba(255,107,53,.08),rgba(124,58,237,.08));border:1px solid rgba(255,107,53,.2);border-radius:16px;padding:24px;margin-top:24px;text-align:center}
.email-card h3{font-family:'Instrument Serif',serif;font-size:1.4rem;margin-bottom:8px}
.email-card p{color:var(--dim);font-size:.9rem;margin-bottom:16px}
.email-row{display:flex;gap:8px;max-width:400px;margin:0 auto}
.email-row input{flex:1;padding:12px 16px;border-radius:99px;border:1px solid var(--border);background:var(--bg);color:var(--text);font-family:'Space Grotesk',sans-serif;font-size:.95rem}
.email-row input::placeholder{color:var(--dim)}
.email-row .btn{margin-top:0;padding:12px 24px}
/* Gear recs */
.gear-section{margin-top:32px}
.gear-section h3{font-family:'Instrument Serif',serif;font-size:1.6rem;margin-bottom:16px;text-align:center}
.gear-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;margin-bottom:12px;display:flex;gap:16px;align-items:center}
.gear-emoji{font-size:2rem;flex-shrink:0}
.gear-info{flex:1}
.gear-name{font-weight:600;margin-bottom:4px}
.gear-desc{font-size:.85rem;color:var(--dim);margin-bottom:6px}
.gear-link{display:inline-flex;align-items:center;gap:4px;font-size:.85rem;color:var(--accent);text-decoration:none;font-weight:500}
.gear-link:hover{text-decoration:underline}
.gear-price{font-size:.85rem;color:var(--green);font-weight:600}
/* Ad slot */
.ad-slot{border:1px dashed var(--border);border-radius:12px;padding:20px;text-align:center;color:var(--dim);font-size:.8rem;margin-top:24px;opacity:.5}
@media(max-width:480px){.email-row{flex-direction:column}.email-row .btn{width:100%;justify-content:center}}
</style>
</head>
<body>
<div class="noise"><canvas id="noiseCanvas"></canvas></div>
<div class="gradient-bg"></div>
<div class="container">
  <!-- HERO -->
  <div id="hero">
    <h1><span>PackLight</span></h1>
    <p class="subtitle">Never forget your toothbrush again. Tell us about your trip and get a personalized packing checklist in 30 seconds.</p>
  </div>

  <!-- PROGRESS -->
  <div class="progress" id="progress">
    <div class="dot current" data-step="0"></div>
    <div class="dot" data-step="1"></div>
    <div class="dot" data-step="2"></div>
    <div class="dot" data-step="3"></div>
    <div class="dot" data-step="4"></div>
  </div>

  <!-- STEP 0: Trip Type -->
  <div class="step active" data-step="0">
    <div class="step-label">Step 1 of 5</div>
    <div class="step-title">What kind of trip?</div>
    <div class="chips" id="tripChips">
      <button class="chip" data-val="beach">ğŸ–ï¸ Beach</button>
      <button class="chip" data-val="city">ğŸ™ï¸ City Break</button>
      <button class="chip" data-val="hiking">ğŸ¥¾ Hiking / Outdoors</button>
      <button class="chip" data-val="business">ğŸ’¼ Business</button>
      <button class="chip" data-val="ski">â›·ï¸ Ski / Snow</button>
      <button class="chip" data-val="roadtrip">ğŸš— Road Trip</button>
      <button class="chip" data-val="backpacking">ğŸ’ Backpacking</button>
      <button class="chip" data-val="family">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Vacation</button>
    </div>
    <button class="btn" id="btn0" disabled onclick="nextStep()">Continue â†’</button>
  </div>

  <!-- STEP 1: Duration -->
  <div class="step" data-step="1">
    <div class="step-label">Step 2 of 5</div>
    <div class="step-title">How long?</div>
    <div class="slider-wrap">
      <span class="slider-val" id="daysVal">5 days</span>
      <input type="range" min="1" max="30" value="5" id="daysSlider">
    </div>
    <button class="btn" onclick="nextStep()">Continue â†’</button>
  </div>

  <!-- STEP 2: Climate -->
  <div class="step" data-step="2">
    <div class="step-label">Step 3 of 5</div>
    <div class="step-title">What's the weather like?</div>
    <div class="chips" id="climateChips">
      <button class="chip" data-val="hot">ğŸ”¥ Hot (80Â°F+)</button>
      <button class="chip" data-val="warm">â˜€ï¸ Warm (65-80Â°F)</button>
      <button class="chip" data-val="mild">ğŸŒ¤ï¸ Mild (50-65Â°F)</button>
      <button class="chip" data-val="cold">â„ï¸ Cold (below 50Â°F)</button>
      <button class="chip" data-val="mixed">ğŸŒ¦ï¸ Mixed / Layering</button>
    </div>
    <button class="btn" id="btn2" disabled onclick="nextStep()">Continue â†’</button>
  </div>

  <!-- STEP 3: Activities (multi-select) -->
  <div class="step" data-step="3">
    <div class="step-label">Step 4 of 5</div>
    <div class="step-title">Any special activities?</div>
    <p style="color:var(--dim);font-size:.9rem;margin-bottom:16px">Select all that apply</p>
    <div class="chips" id="activityChips">
      <button class="chip multi" data-val="swimming">ğŸŠ Swimming</button>
      <button class="chip multi" data-val="gym">ğŸ’ª Gym / Exercise</button>
      <button class="chip multi" data-val="nightlife">ğŸ¸ Nightlife</button>
      <button class="chip multi" data-val="photography">ğŸ“· Photography</button>
      <button class="chip multi" data-val="camping">â›º Camping</button>
      <button class="chip multi" data-val="formal">ğŸ‘” Formal Event</button>
      <button class="chip multi" data-val="water">ğŸš£ Water Sports</button>
      <button class="chip multi" data-val="kids">ğŸ§¸ Kids Activities</button>
      <button class="chip multi" data-val="remote-work">ğŸ’» Remote Work</button>
    </div>
    <button class="btn" onclick="nextStep()">Continue â†’</button>
  </div>

  <!-- STEP 4: Extras -->
  <div class="step" data-step="4">
    <div class="step-label">Step 5 of 5</div>
    <div class="step-title">Packing style?</div>
    <div class="chips" id="styleChips">
      <button class="chip" data-val="minimal">âœ¨ Minimalist</button>
      <button class="chip" data-val="normal">ğŸ§³ Normal</button>
      <button class="chip" data-val="overpacker">ğŸ“¦ I overpack (no shame)</button>
    </div>
    <button class="btn" id="btn4" disabled onclick="generateList()">Generate My List ğŸ’</button>
  </div>

  <!-- RESULTS -->
  <div id="results" style="display:none"></div>
</div>

<script>
// Noise
(function(){const c=document.getElementById('noiseCanvas'),x=c.getContext('2d');function r(){c.width=window.innerWidth;c.height=window.innerHeight;const d=x.createImageData(c.width,c.height);for(let i=0;i<d.data.length;i+=4){const v=Math.random()*255;d.data[i]=d.data[i+1]=d.data[i+2]=v;d.data[i+3]=255}x.putImageData(d,0,0)}r();window.addEventListener('resize',r)})();

let currentStep=0;
const answers={trip:null,days:5,climate:null,activities:[],style:null};

// Single-select chips
document.querySelectorAll('#tripChips .chip').forEach(c=>c.addEventListener('click',()=>{
  document.querySelectorAll('#tripChips .chip').forEach(x=>x.classList.remove('selected'));
  c.classList.add('selected');answers.trip=c.dataset.val;document.getElementById('btn0').disabled=false;
}));
document.querySelectorAll('#climateChips .chip').forEach(c=>c.addEventListener('click',()=>{
  document.querySelectorAll('#climateChips .chip').forEach(x=>x.classList.remove('selected'));
  c.classList.add('selected');answers.climate=c.dataset.val;document.getElementById('btn2').disabled=false;
}));
document.querySelectorAll('#styleChips .chip').forEach(c=>c.addEventListener('click',()=>{
  document.querySelectorAll('#styleChips .chip').forEach(x=>x.classList.remove('selected'));
  c.classList.add('selected');answers.style=c.dataset.val;document.getElementById('btn4').disabled=false;
}));

// Multi-select
document.querySelectorAll('#activityChips .chip').forEach(c=>c.addEventListener('click',()=>{
  c.classList.toggle('selected');
  answers.activities=Array.from(document.querySelectorAll('#activityChips .chip.selected')).map(x=>x.dataset.val);
}));

// Slider
const sl=document.getElementById('daysSlider'),sv=document.getElementById('daysVal');
sl.addEventListener('input',()=>{const d=parseInt(sl.value);answers.days=d;sv.textContent=d===1?'1 day':d+' days'});

function nextStep(){
  currentStep++;
  document.querySelectorAll('.step').forEach(s=>s.classList.remove('active'));
  document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
  updateDots();
}
function updateDots(){
  document.querySelectorAll('.dot').forEach((d,i)=>{
    d.classList.remove('done','current');
    if(i<currentStep)d.classList.add('done');
    if(i===currentStep)d.classList.add('current');
  });
}

// ITEM DATABASE
const ITEMS={
  essentials:[
    {name:'Passport / ID',always:true},
    {name:'Phone charger & cable',always:true,link:'https://www.amazon.com/dp/B0B5LBGZKZ?tag=stirman-20',price:'$16'},
    {name:'Wallet / cards / cash',always:true},
    {name:'Travel insurance docs',always:true},
    {name:'Medications & vitamins',always:true},
    {name:'Portable power bank',always:true,link:'https://www.amazon.com/dp/B0B9R5WN8K?tag=stirman-20',price:'$22'},
    {name:'Reusable water bottle',always:true,link:'https://www.amazon.com/dp/B083GBFQ2K?tag=stirman-20',price:'$25'},
    {name:'Headphones / earbuds',always:true,link:'https://www.amazon.com/dp/B0D1XD1ZV3?tag=stirman-20',price:'$249'},
    {name:'Travel pillow',when:{days:[5,99]},link:'https://www.amazon.com/dp/B00LB7REFK?tag=stirman-20',price:'$30'},
    {name:'Snacks for the journey',always:true},
  ],
  clothing_hot:[
    {name:'T-shirts / tank tops',qty:true},
    {name:'Shorts',qty:true},
    {name:'Lightweight dress/outfit',when:{trip:['beach','city']}},
    {name:'Sandals / flip-flops',always:true,link:'https://www.amazon.com/dp/B07T2PNQBX?tag=stirman-20',price:'$35'},
    {name:'Sunglasses',always:true,link:'https://www.amazon.com/dp/B00TL6QNQQ?tag=stirman-20',price:'$18'},
    {name:'Sun hat / cap',always:true,link:'https://www.amazon.com/dp/B09XN5VWW2?tag=stirman-20',price:'$15'},
    {name:'Light linen shirt',always:true},
    {name:'Underwear',qty:true},
    {name:'Socks (light)',qty:true},
  ],
  clothing_warm:[
    {name:'T-shirts',qty:true},
    {name:'Light pants / chinos',qty:true},
    {name:'Light jacket or hoodie',always:true},
    {name:'Casual shoes',always:true},
    {name:'Underwear',qty:true},
    {name:'Socks',qty:true},
    {name:'Sunglasses',always:true,link:'https://www.amazon.com/dp/B00TL6QNQQ?tag=stirman-20',price:'$18'},
  ],
  clothing_mild:[
    {name:'Long-sleeve shirts',qty:true},
    {name:'Pants / jeans',qty:true},
    {name:'Sweater or fleece',always:true},
    {name:'Light jacket',always:true},
    {name:'Comfortable walking shoes',always:true,link:'https://www.amazon.com/dp/B07WGJR3MR?tag=stirman-20',price:'$85'},
    {name:'Underwear',qty:true},
    {name:'Socks',qty:true},
    {name:'Scarf (optional)',always:true},
  ],
  clothing_cold:[
    {name:'Warm base layers',qty:true,link:'https://www.amazon.com/dp/B09M8CJGN1?tag=stirman-20',price:'$32'},
    {name:'Sweaters / fleece',qty:true},
    {name:'Warm pants',qty:true},
    {name:'Winter coat / down jacket',always:true,link:'https://www.amazon.com/dp/B0BXKYN2QB?tag=stirman-20',price:'$120'},
    {name:'Warm hat / beanie',always:true},
    {name:'Gloves',always:true,link:'https://www.amazon.com/dp/B08L8HB2YL?tag=stirman-20',price:'$25'},
    {name:'Thermal socks',qty:true,link:'https://www.amazon.com/dp/B07GRNQ3CP?tag=stirman-20',price:'$18'},
    {name:'Warm boots',always:true,link:'https://www.amazon.com/dp/B07MKBDFLZ?tag=stirman-20',price:'$170'},
    {name:'Underwear',qty:true},
    {name:'Scarf',always:true},
  ],
  clothing_mixed:[
    {name:'T-shirts',qty:true},
    {name:'Long-sleeve layers',qty:true},
    {name:'Pants & shorts (mix)',qty:true},
    {name:'Packable rain jacket',always:true,link:'https://www.amazon.com/dp/B079BH1PPN?tag=stirman-20',price:'$50'},
    {name:'Layering fleece / hoodie',always:true},
    {name:'Versatile shoes',always:true},
    {name:'Underwear',qty:true},
    {name:'Socks (varied weight)',qty:true},
  ],
  toiletries:[
    {name:'Toothbrush & toothpaste',always:true},
    {name:'Deodorant',always:true},
    {name:'Shampoo & body wash (travel size)',always:true},
    {name:'Sunscreen SPF 50+',when:{climate:['hot','warm','mixed']},link:'https://www.amazon.com/dp/B004CDQ5SO?tag=stirman-20',price:'$12'},
    {name:'Lip balm with SPF',always:true},
    {name:'Razor / grooming kit',always:true},
    {name:'Moisturizer',always:true},
    {name:'Contact lens supplies',always:false,optional:true},
    {name:'First aid kit (mini)',always:true,link:'https://www.amazon.com/dp/B07CJR3JFG?tag=stirman-20',price:'$9'},
    {name:'Hand sanitizer',always:true},
    {name:'Bug spray',when:{trip:['hiking','camping','beach']},link:'https://www.amazon.com/dp/B004LA5GJC?tag=stirman-20',price:'$7'},
  ],
  tech:[
    {name:'Laptop / tablet',when:{trip:['business','city'],act:['remote-work']},link:'https://www.amazon.com/dp/B0DLHBKTRN?tag=stirman-20',price:'$999'},
    {name:'Universal power adapter',always:true,link:'https://www.amazon.com/dp/B0CJK9F6BT?tag=stirman-20',price:'$24'},
    {name:'Camera / GoPro',when:{act:['photography','water']},link:'https://www.amazon.com/dp/B0CYL4ZMSY?tag=stirman-20',price:'$349'},
    {name:'Extra memory cards',when:{act:['photography']}},
    {name:'Kindle / e-reader',optional:true,link:'https://www.amazon.com/dp/B09SWW583J?tag=stirman-20',price:'$100'},
    {name:'Portable speaker',optional:true,link:'https://www.amazon.com/dp/B0C8PSS55G?tag=stirman-20',price:'$50'},
    {name:'Laptop charger',when:{act:['remote-work']}},
  ],
  beach_extras:[
    {name:'Swimsuit(s)',always:true},
    {name:'Beach towel (quick-dry)',always:true,link:'https://www.amazon.com/dp/B0752Z3FTK?tag=stirman-20',price:'$28'},
    {name:'Reef-safe sunscreen',always:true,link:'https://www.amazon.com/dp/B079JHK36R?tag=stirman-20',price:'$14'},
    {name:'Waterproof phone pouch',always:true,link:'https://www.amazon.com/dp/B085HBVH8P?tag=stirman-20',price:'$9'},
    {name:'Snorkel gear',optional:true,link:'https://www.amazon.com/dp/B0CG5Y3G5M?tag=stirman-20',price:'$30'},
    {name:'Cover-up / sarong',always:true},
    {name:'Water shoes',optional:true,link:'https://www.amazon.com/dp/B073PDJNW9?tag=stirman-20',price:'$22'},
  ],
  hiking_extras:[
    {name:'Hiking boots (broken in!)',always:true,link:'https://www.amazon.com/dp/B078SZ2JQV?tag=stirman-20',price:'$130'},
    {name:'Daypack / backpack',always:true,link:'https://www.amazon.com/dp/B01HGSLB7U?tag=stirman-20',price:'$65'},
    {name:'Moisture-wicking shirts',qty:true},
    {name:'Hiking pants / convertibles',always:true,link:'https://www.amazon.com/dp/B003D2A8VE?tag=stirman-20',price:'$40'},
    {name:'Trekking poles',optional:true,link:'https://www.amazon.com/dp/B07FVJDRHV?tag=stirman-20',price:'$40'},
    {name:'Headlamp',always:true,link:'https://www.amazon.com/dp/B0B7K1KTSH?tag=stirman-20',price:'$25'},
    {name:'Trail snacks / energy bars',always:true},
    {name:'Blister kit / moleskin',always:true},
  ],
  business_extras:[
    {name:'Dress shirts (wrinkle-free)',qty:true},
    {name:'Dress shoes',always:true},
    {name:'Suit / blazer',always:true},
    {name:'Dress pants / skirt',qty:true},
    {name:'Belt',always:true},
    {name:'Tie / accessories',optional:true},
    {name:'Portfolio / notebook',always:true,link:'https://www.amazon.com/dp/B0BFGY18JK?tag=stirman-20',price:'$14'},
    {name:'Business cards',always:true},
    {name:'Garment bag',always:true,link:'https://www.amazon.com/dp/B074Z5BFLG?tag=stirman-20',price:'$18'},
  ],
  ski_extras:[
    {name:'Ski jacket (waterproof)',always:true,link:'https://www.amazon.com/dp/B0CK5JNZL9?tag=stirman-20',price:'$160'},
    {name:'Ski pants',always:true},
    {name:'Thermal base layers (x2)',always:true,link:'https://www.amazon.com/dp/B09M8CJGN1?tag=stirman-20',price:'$32'},
    {name:'Ski socks (wool)',always:true,link:'https://www.amazon.com/dp/B076BRMW9L?tag=stirman-20',price:'$22'},
    {name:'Goggles',always:true,link:'https://www.amazon.com/dp/B09FT86L6Q?tag=stirman-20',price:'$45'},
    {name:'Helmet',always:true,link:'https://www.amazon.com/dp/B07YVQXZ68?tag=stirman-20',price:'$80'},
    {name:'Neck gaiter / balaclava',always:true,link:'https://www.amazon.com/dp/B07MCSY2N7?tag=stirman-20',price:'$12'},
    {name:'Hand & toe warmers',always:true,link:'https://www.amazon.com/dp/B0007ZF4OA?tag=stirman-20',price:'$12'},
    {name:'AprÃ¨s-ski outfit',optional:true},
  ],
  camping_extras:[
    {name:'Tent (if not provided)',optional:true,link:'https://www.amazon.com/dp/B07VFN4R9K?tag=stirman-20',price:'$90'},
    {name:'Sleeping bag',always:true,link:'https://www.amazon.com/dp/B07TLBGD9W?tag=stirman-20',price:'$45'},
    {name:'Sleeping pad',always:true,link:'https://www.amazon.com/dp/B07529JBPL?tag=stirman-20',price:'$38'},
    {name:'Camp stove / cooking gear',optional:true},
    {name:'Headlamp + extra batteries',always:true,link:'https://www.amazon.com/dp/B0B7K1KTSH?tag=stirman-20',price:'$25'},
    {name:'Multi-tool / knife',always:true,link:'https://www.amazon.com/dp/B09JFMKK7W?tag=stirman-20',price:'$30'},
    {name:'Dry bags',always:true,link:'https://www.amazon.com/dp/B01LY2F3JC?tag=stirman-20',price:'$16'},
    {name:'Fire starter / lighter',always:true},
    {name:'Camp chair',optional:true,link:'https://www.amazon.com/dp/B08FMSYCQR?tag=stirman-20',price:'$35'},
  ],
  swimming_extras:[
    {name:'Swimsuit(s)',always:true},
    {name:'Goggles',always:true,link:'https://www.amazon.com/dp/B0016J7GIM?tag=stirman-20',price:'$13'},
    {name:'Waterproof phone pouch',always:true,link:'https://www.amazon.com/dp/B085HBVH8P?tag=stirman-20',price:'$9'},
    {name:'Quick-dry towel',always:true,link:'https://www.amazon.com/dp/B0752Z3FTK?tag=stirman-20',price:'$28'},
  ],
  gym_extras:[
    {name:'Workout clothes',qty:true},
    {name:'Running shoes',always:true},
    {name:'Resistance bands',optional:true,link:'https://www.amazon.com/dp/B07BHMLDBG?tag=stirman-20',price:'$10'},
    {name:'Jump rope (travel)',optional:true,link:'https://www.amazon.com/dp/B083FGYQ15?tag=stirman-20',price:'$10'},
  ],
  nightlife_extras:[
    {name:'Going-out outfit',always:true},
    {name:'Dress shoes / heels',always:true},
    {name:'Small crossbody bag / clutch',always:true},
  ],
  formal_extras:[
    {name:'Formal outfit (suit / dress)',always:true},
    {name:'Dress shoes',always:true},
    {name:'Accessories (jewelry / cufflinks)',always:true},
    {name:'Garment bag',always:true,link:'https://www.amazon.com/dp/B074Z5BFLG?tag=stirman-20',price:'$18'},
    {name:'Iron / steamer',optional:true,link:'https://www.amazon.com/dp/B07Y1BBCQD?tag=stirman-20',price:'$30'},
  ],
  water_extras:[
    {name:'Rashguard / wetsuit',always:true,link:'https://www.amazon.com/dp/B0779W5DVQ?tag=stirman-20',price:'$28'},
    {name:'Water shoes',always:true,link:'https://www.amazon.com/dp/B073PDJNW9?tag=stirman-20',price:'$22'},
    {name:'Dry bag',always:true,link:'https://www.amazon.com/dp/B01LY2F3JC?tag=stirman-20',price:'$16'},
    {name:'Waterproof camera / mount',optional:true,link:'https://www.amazon.com/dp/B0CYL4ZMSY?tag=stirman-20',price:'$349'},
  ],
  kids_extras:[
    {name:'Diapers / wipes (if needed)',optional:true},
    {name:'Kid snacks & sippy cups',always:true},
    {name:'Small toys / activities',always:true},
    {name:'Coloring book & crayons',always:true},
    {name:'Kids headphones',always:true,link:'https://www.amazon.com/dp/B07ZD2JRZD?tag=stirman-20',price:'$25'},
    {name:'Tablet loaded with shows',always:true},
    {name:'Extra change of clothes (carry-on)',always:true},
    {name:'Car seat / booster (if needed)',optional:true},
  ],
  remote_extras:[
    {name:'Laptop + charger',always:true},
    {name:'Mouse',always:true,link:'https://www.amazon.com/dp/B09HM94VDS?tag=stirman-20',price:'$70'},
    {name:'Laptop stand',optional:true,link:'https://www.amazon.com/dp/B07D74DT3B?tag=stirman-20',price:'$35'},
    {name:'Portable hotspot / eSIM',always:true},
    {name:'Noise-canceling headphones',always:true,link:'https://www.amazon.com/dp/B0D1XD1ZV3?tag=stirman-20',price:'$249'},
    {name:'Blue-light glasses',optional:true,link:'https://www.amazon.com/dp/B07KGH2GS7?tag=stirman-20',price:'$18'},
  ],
  packing_org:[
    {name:'Packing cubes',always:true,link:'https://www.amazon.com/dp/B014VBIEPE?tag=stirman-20',price:'$25'},
    {name:'Toiletry bag',always:true,link:'https://www.amazon.com/dp/B07RMYPFPL?tag=stirman-20',price:'$16'},
    {name:'Laundry bag',always:true},
    {name:'Zip-lock bags (various sizes)',always:true},
    {name:'Luggage locks',always:true,link:'https://www.amazon.com/dp/B07W6GG5MC?tag=stirman-20',price:'$10'},
    {name:'Compression bags',when:{days:[8,99]},link:'https://www.amazon.com/dp/B07BNRZY2V?tag=stirman-20',price:'$14'},
  ]
};

const GEAR={
  beach:[
    {emoji:'ğŸ§´',name:'Supergoop SPF 50 Sunscreen',desc:'Invisible, lightweight, reef-safe. The best.',price:'$22',link:'https://www.amazon.com/dp/B004CDQ5SO?tag=stirman-20'},
    {emoji:'ğŸ‘œ',name:'Waterproof Dry Bag',desc:'Keeps your stuff safe at the beach or on water.',price:'$16',link:'https://www.amazon.com/dp/B01LY2F3JC?tag=stirman-20'},
  ],
  city:[
    {emoji:'ğŸ’',name:'Aer Day Pack 3',desc:'Sleek, organized daypack for city exploration.',price:'$110',link:'https://www.amazon.com/dp/B0CQ7KR8PK?tag=stirman-20'},
    {emoji:'ğŸ‘Ÿ',name:'Allbirds Tree Runners',desc:'Lightweight, comfortable all-day walking shoes.',price:'$98',link:'https://www.amazon.com/dp/B0DFHHRY38?tag=stirman-20'},
  ],
  hiking:[
    {emoji:'ğŸ¥¾',name:'Salomon X Ultra 4 GTX',desc:'Waterproof, grippy, all-terrain hiking boots.',price:'$130',link:'https://www.amazon.com/dp/B078SZ2JQV?tag=stirman-20'},
    {emoji:'ğŸ’§',name:'CamelBak Hydration Pack',desc:'Hands-free hydration on the trail.',price:'$65',link:'https://www.amazon.com/dp/B0B7XVJV43?tag=stirman-20'},
  ],
  business:[
    {emoji:'ğŸ’¼',name:'Away Carry-On (Aluminum)',desc:'Luxury carry-on with built-in charger. Statement piece.',price:'$475',link:'https://www.amazon.com/dp/B079KJZ7QW?tag=stirman-20'},
    {emoji:'ğŸ”Œ',name:'Anker 737 Power Bank',desc:'24,000mAh â€” charge everything, multiple times.',price:'$110',link:'https://www.amazon.com/dp/B09VPHQFK1?tag=stirman-20'},
  ],
  ski:[
    {emoji:'ğŸ§¤',name:'Hestra Fall Line Gloves',desc:'Premium leather ski gloves. Warm + stylish.',price:'$160',link:'https://www.amazon.com/dp/B01EYWZAU4?tag=stirman-20'},
    {emoji:'ğŸ§£',name:'Smartwool Merino Neck Gaiter',desc:'Breathable, odor-resistant, warm.',price:'$35',link:'https://www.amazon.com/dp/B07MCSY2N7?tag=stirman-20'},
  ],
  default:[
    {emoji:'ğŸ§³',name:'Peak Design Travel Backpack 45L',desc:'The ultimate travel bag. Expands, compresses, opens like a suitcase.',price:'$300',link:'https://www.amazon.com/dp/B07Z61TXGZ?tag=stirman-20'},
    {emoji:'ğŸ”‹',name:'Anker Nano Power Bank',desc:'Tiny, powerful, with built-in cable. Never run out.',price:'$22',link:'https://www.amazon.com/dp/B0B9R5WN8K?tag=stirman-20'},
    {emoji:'ğŸ§',name:'Sony WH-1000XM5',desc:'Best noise-canceling headphones. Period.',price:'$328',link:'https://www.amazon.com/dp/B0D1XD1ZV3?tag=stirman-20'},
  ]
};

function getQty(base,style){
  const d=answers.days;
  let n=Math.min(d,7);
  if(style==='minimal')n=Math.max(Math.ceil(n*.6),2);
  if(style==='overpacker')n=Math.min(n+2,d);
  return n;
}

function shouldInclude(item){
  if(item.always)return true;
  if(!item.when)return false;
  const w=item.when;
  if(w.climate&&!w.climate.includes(answers.climate))return false;
  if(w.trip&&!w.trip.some(t=>t===answers.trip))return false;
  if(w.act&&!w.act.some(a=>answers.activities.includes(a)))return false;
  if(w.days){const[min,max]=w.days;if(answers.days<min||answers.days>max)return false}
  return true;
}

function buildCategory(name,emoji,items){
  const filtered=items.filter(i=>shouldInclude(i));
  if(!filtered.length)return null;
  return{name,emoji,items:filtered.map(i=>{
    let label=i.name;
    if(i.qty)label+=` (Ã—${getQty(i.qty===true?1:i.qty,answers.style)})`;
    return{label,link:i.link,price:i.price,optional:i.optional};
  })};
}

function generateList(){
  const cats=[];
  cats.push(buildCategory('Essentials','ğŸ“‹',ITEMS.essentials));

  // Clothing by climate
  const cMap={hot:'clothing_hot',warm:'clothing_warm',mild:'clothing_mild',cold:'clothing_cold',mixed:'clothing_mixed'};
  cats.push(buildCategory('Clothing','ğŸ‘•',ITEMS[cMap[answers.climate]]||ITEMS.clothing_warm));

  cats.push(buildCategory('Toiletries','ğŸ§´',ITEMS.toiletries));
  cats.push(buildCategory('Tech & Gadgets','ğŸ“±',ITEMS.tech));
  cats.push(buildCategory('Packing Organization','ğŸ§³',ITEMS.packing_org));

  // Trip-specific
  if(answers.trip==='beach')cats.push(buildCategory('Beach Extras','ğŸ–ï¸',ITEMS.beach_extras));
  if(answers.trip==='hiking')cats.push(buildCategory('Hiking Gear','ğŸ¥¾',ITEMS.hiking_extras));
  if(answers.trip==='business')cats.push(buildCategory('Business Attire','ğŸ’¼',ITEMS.business_extras));
  if(answers.trip==='ski')cats.push(buildCategory('Ski / Snow Gear','â›·ï¸',ITEMS.ski_extras));

  // Activity-specific
  if(answers.activities.includes('camping'))cats.push(buildCategory('Camping Gear','â›º',ITEMS.camping_extras));
  if(answers.activities.includes('swimming'))cats.push(buildCategory('Swimming','ğŸŠ',ITEMS.swimming_extras));
  if(answers.activities.includes('gym'))cats.push(buildCategory('Gym / Exercise','ğŸ’ª',ITEMS.gym_extras));
  if(answers.activities.includes('nightlife'))cats.push(buildCategory('Nightlife','ğŸ¸',ITEMS.nightlife_extras));
  if(answers.activities.includes('formal'))cats.push(buildCategory('Formal Event','ğŸ‘”',ITEMS.formal_extras));
  if(answers.activities.includes('water'))cats.push(buildCategory('Water Sports','ğŸš£',ITEMS.water_extras));
  if(answers.activities.includes('kids'))cats.push(buildCategory('Kids Essentials','ğŸ§¸',ITEMS.kids_extras));
  if(answers.activities.includes('remote-work'))cats.push(buildCategory('Remote Work Setup','ğŸ’»',ITEMS.remote_extras));

  const valid=cats.filter(Boolean);
  const totalItems=valid.reduce((s,c)=>s+c.items.length,0);
  const affiliateItems=valid.reduce((s,c)=>s+c.items.filter(i=>i.link).length,0);

  // Gear recs
  const gear=GEAR[answers.trip]||GEAR.default;
  const allGear=[...gear,...GEAR.default.filter(g=>!gear.find(x=>x.name===g.name))].slice(0,4);

  document.getElementById('progress').style.display='none';
  document.getElementById('hero').innerHTML=`<h1><span>Your List is Ready</span></h1>`;
  const r=document.getElementById('results');
  r.style.display='block';

  const tripLabels={beach:'Beach Trip',city:'City Break',hiking:'Hiking Adventure',business:'Business Trip',ski:'Ski Trip',roadtrip:'Road Trip',backpacking:'Backpacking',family:'Family Vacation'};

  let html=`
    <div class="results-header">
      <p>${tripLabels[answers.trip]} Â· ${answers.days} day${answers.days>1?'s':''} Â· ${answers.climate} weather</p>
    </div>
    <div class="stat-row">
      <div class="stat"><div class="stat-num">${totalItems}</div><div class="stat-label">Items</div></div>
      <div class="stat"><div class="stat-num">${valid.length}</div><div class="stat-label">Categories</div></div>
      <div class="stat"><div class="stat-num">${answers.days}</div><div class="stat-label">Days</div></div>
    </div>
    <div class="toolbar">
      <button class="btn" onclick="checkAll()">â˜‘ï¸ Check All</button>
      <button class="btn outline" onclick="uncheckAll()">Clear All</button>
      <button class="btn outline" onclick="copyList()">ğŸ“‹ Copy List</button>
      <button class="btn outline" onclick="shareList()">ğŸ“¤ Share</button>
    </div>`;

  valid.forEach((cat,ci)=>{
    html+=`<div class="category" style="animation-delay:${ci*0.06}s">
      <div class="cat-header" onclick="toggleCat(this)">
        <div class="cat-title">${cat.emoji} ${cat.name}</div>
        <div style="display:flex;align-items:center;gap:8px">
          <span class="cat-count">${cat.items.length}</span>
          <span class="cat-toggle">â–¼</span>
        </div>
      </div>
      <div class="cat-items">`;
    cat.items.forEach((item,ii)=>{
      const id=`item-${ci}-${ii}`;
      html+=`<div class="item">
        <input type="checkbox" id="${id}" onchange="toggleItem(this)">
        <div class="item-info">
          <label class="item-name" for="${id}">${item.label}${item.optional?' <span style="color:var(--dim);font-size:.8rem">(optional)</span>':''}</label>
          ${item.link?`<br><a href="${item.link}" target="_blank" rel="noopener" class="item-link">Shop on Amazon ${item.price?'Â· '+item.price:''} â†’</a>`:''}
        </div>
      </div>`;
    });
    html+=`</div></div>`;
  });

  // Gear recommendations
  html+=`<div class="gear-section"><h3>ğŸ¯ Recommended Gear</h3>`;
  allGear.forEach(g=>{
    html+=`<div class="gear-card">
      <div class="gear-emoji">${g.emoji}</div>
      <div class="gear-info">
        <div class="gear-name">${g.name}</div>
        <div class="gear-desc">${g.desc}</div>
        <a href="${g.link}" target="_blank" rel="noopener" class="gear-link">View on Amazon â†’</a>
        <span class="gear-price" style="margin-left:12px">${g.price}</span>
      </div>
    </div>`;
  });
  html+=`</div>`;

  // Email capture
  html+=`<div class="email-card">
    <h3>ğŸ“§ Never Forget Anything Again</h3>
    <p>Get destination-specific packing tips and exclusive gear deals in your inbox.</p>
    <div class="email-row">
      <input type="email" placeholder="your@email.com" id="emailInput">
      <button class="btn" onclick="captureEmail()">Subscribe</button>
    </div>
  </div>`;

  // Ad slot
  html+=`<div class="ad-slot">Sponsored â€” Travel gear partners welcome</div>`;

  // Reset
  html+=`<div style="text-align:center;margin-top:32px">
    <button class="btn outline" onclick="location.reload()">ğŸ”„ Start Over</button>
  </div>`;

  r.innerHTML=html;
  r.scrollIntoView({behavior:'smooth'});
}

function toggleCat(header){
  const items=header.nextElementSibling;
  const arrow=header.querySelector('.cat-toggle');
  if(items.style.display==='none'){items.style.display='';arrow.classList.remove('collapsed')}
  else{items.style.display='none';arrow.classList.add('collapsed')}
}
function toggleItem(cb){
  const label=cb.parentElement.querySelector('.item-name');
  if(cb.checked)label.classList.add('checked');else label.classList.remove('checked');
}
function checkAll(){document.querySelectorAll('.item input[type=checkbox]').forEach(c=>{c.checked=true;c.parentElement.querySelector('.item-name').classList.add('checked')})}
function uncheckAll(){document.querySelectorAll('.item input[type=checkbox]').forEach(c=>{c.checked=false;c.parentElement.querySelector('.item-name').classList.remove('checked')})}
function copyList(){
  const cats=document.querySelectorAll('.category');
  let text='PackLight Packing List\n'+('='.repeat(30))+'\n\n';
  cats.forEach(cat=>{
    const title=cat.querySelector('.cat-title').textContent.trim();
    text+=title+'\n'+'-'.repeat(title.length)+'\n';
    cat.querySelectorAll('.item-name').forEach(n=>{
      const cb=n.closest('.item').querySelector('input[type=checkbox]');
      text+=(cb.checked?'â˜‘ ':'â˜ ')+n.textContent.replace('(optional)','')+'\n';
    });
    text+='\n';
  });
  text+='Generated by PackLight â€” stirman.net/packlight';
  navigator.clipboard.writeText(text).then(()=>alert('Packing list copied!'));
}
function shareList(){
  const url=window.location.href;
  if(navigator.share){navigator.share({title:'My PackLight Packing List',text:'Check out my custom packing list!',url})}
  else{navigator.clipboard.writeText(url).then(()=>alert('Link copied!'))}
}
function captureEmail(){
  const e=document.getElementById('emailInput').value;
  if(e&&e.includes('@')){alert('Thanks! You\'ll get packing tips soon. âœˆï¸');document.getElementById('emailInput').value=''}
}
</script>
</body>
</html>